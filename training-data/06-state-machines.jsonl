{"prompt": "Create a state machine for a multi-phase boss with phase transitions at specific health thresholds", "completion": "stateMachine(\"boss_corrupted_sorcerer\", {\n  states: {\n    \"phase1_casting\": {\n      entry: () => {\n        playAnimation(\"summon_arcane_aura\");\n        this.speed = 1;\n      },\n      actions: [\n        { ability: \"arcane_bolt\", every: 3, target: player },\n        { ability: \"teleport\", every: 8, target: \"random_location\" }\n      ],\n      onDamage: (amount) => {\n        if (this.health < 60) transition(\"phase2_enraged\");\n      }\n    },\n    \"phase2_enraged\": {\n      entry: () => {\n        playAnimation(\"dark_transformation\");\n        particle(\"corruption_explosion\");\n        this.speed = 1.5;\n        this.attackPower *= 1.3;\n      },\n      actions: [\n        { ability: \"arcane_bolt\", every: 2, target: player },\n        { ability: \"summon_minion\", every: 6, count: 2 },\n        { ability: \"drain_life\", every: 10, target: player }\n      ],\n      onDamage: (amount) => {\n        if (this.health < 20) transition(\"phase3_desperation\");\n      }\n    },\n    \"phase3_desperation\": {\n      entry: () => {\n        playAnimation(\"final_curse\");\n        particle(\"death_aura\");\n      },\n      actions: [\n        { ability: \"chaos_blast\", every: 1, radius: 10 },\n        { heal: 0.2, every: 2 }\n      ],\n      timeout: 15,\n      onTimeout: () => transition(\"defeated\")\n    },\n    \"defeated\": {\n      entry: () => {\n        playAnimation(\"collapse\");\n        dropLoot(\"boss_sorcerer_loot\");\n      }\n    }\n  },\n  \n  initialState: \"phase1_casting\"\n})"}
{"prompt": "Create a state machine for an enemy patrol that switches between patrol, alert, and combat states", "completion": "stateMachine(\"guard_patrol_ai\", {\n  states: {\n    \"patrolling\": {\n      entry: () => {\n        playAnimation(\"walk\");\n        this.awareness = 0;\n      },\n      actions: [\n        { move: { path: patrolWaypoints, speed: 1.5 } }\n      ],\n      onSensory: (event) => {\n        if (event.type == \"see_enemy\" && event.distance < 10) {\n          transition(\"alert\");\n        }\n      }\n    },\n    \"alert\": {\n      entry: () => {\n        playAnimation(\"tense_stance\");\n        sound(\"alert_sound\");\n        this.awareness = 1;\n      },\n      actions: [\n        { look: player.position },\n        { wait: 3 }\n      ],\n      timeout: 5,\n      onSensory: (event) => {\n        if (event.type == \"see_enemy\" && event.distance < 5) {\n          transition(\"combat\");\n        }\n      },\n      onTimeout: () => transition(\"patrolling\")\n    },\n    \"combat\": {\n      entry: () => {\n        playAnimation(\"ready_weapon\");\n        sound(\"combat_start\");\n      },\n      actions: [\n        { ability: \"slash\", every: 2, target: player },\n        { move: { style: \"strafe\", target: player, distance: 3 } }\n      ],\n      onDamage: (amount) => {\n        if (this.health < 30) transition(\"retreat\");\n      }\n    },\n    \"retreat\": {\n      actions: [\n        { move: \"guard_post\" },\n        { call_backup: true }\n      ],\n      timeout: 10,\n      onTimeout: () => transition(\"patrolling\")\n    }\n  },\n  \n  initialState: \"patrolling\"\n})"}
