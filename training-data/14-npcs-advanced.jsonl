{"prompt": "Create a complex NPC shopkeeper with inventory, haggling, and reputation-based pricing", "completion": "npc(\"Marcus the Merchant\", {\n  type: \"merchant\",\n  model: \"human_male_merchant\",\n  geometry: { type: \"humanoid\", height: 1.75, width: 0.55, depth: 0.4 },\n  material: {\n    skinColor: \"#d4a574\",\n    clothing: {\n      color: \"#8B4513\",\n      roughness: 0.6,\n      details: { apron: \"#2a1810\", belt: \"#1a1a1a\" }\n    },\n    accessories: { ring: { color: \"#FFD700\", metallic: 0.9 } }\n  },\n  scale: { x: 1.0, y: 1.0, z: 1.0 },\n  boundingBox: { width: 0.55, height: 1.75, depth: 0.4 },\n  health: 100,\n  \n  shop: {\n    id: \"marcus_general_store\",\n    buyMultiplier: 0.4,\n    sellMultiplier: 1.0,\n    \n    inventory: [\n      { item: \"health_potion\", stock: 10, basePrice: 50 },\n      { item: \"mana_potion\", stock: 10, basePrice: 50 },\n      { item: \"torch\", stock: 20, basePrice: 10 },\n      { item: \"rope\", stock: 5, basePrice: 25 },\n      { item: \"rare_gem\", stock: 1, basePrice: 500, restock: false }\n    ],\n    \n    restockInterval: 3600,\n    \n    priceModifiers: {\n      reputation: {\n        friendly: 0.9,\n        neutral: 1.0,\n        hostile: 1.5\n      },\n      charisma: {\n        perPoint: -0.02,\n        minimum: 0.7\n      },\n      haggle: {\n        enabled: true,\n        successChance: (player) => 0.3 + (player.charisma * 0.03),\n        maxDiscount: 0.25,\n        failurePenalty: 0.1\n      }\n    }\n  },\n  \n  behaviors: [\n    {\n      name: \"idle_work\",\n      trigger: \"idle\",\n      actions: [\n        { animate: \"organize_shelves\" },\n        { wait: 5 },\n        { animate: \"count_coins\" },\n        { wait: 3 }\n      ],\n      loop: true\n    },\n    {\n      name: \"greet_customer\",\n      trigger: \"player_near\",\n      condition: player.distance < 4,\n      priority: 2,\n      actions: [\n        { face: player.position },\n        { animate: \"welcoming_gesture\" },\n        {\n          dialogue: player.reputation[\"marcus\"] >= 50\n            ? \"marcus_greeting_friend\"\n            : \"marcus_greeting_neutral\"\n        }\n      ]\n    },\n    {\n      name: \"react_to_theft\",\n      trigger: \"theft_detected\",\n      priority: 10,\n      actions: [\n        { animate: \"angry_point\" },\n        { sound: \"merchant_angry\" },\n        { call_guards: true },\n        { modify_reputation: { marcus: -100 } }\n      ]\n    }\n  ],\n  \n  dialogue: \"marcus_greeting_neutral\",\n  \n  schedule: {\n    \"06:00-20:00\": { location: \"shop_counter\", behavior: \"work\" },\n    \"20:00-22:00\": { location: \"tavern\", behavior: \"relax\" },\n    \"22:00-06:00\": { location: \"home\", behavior: \"sleep\" }\n  }\n})"}
{"prompt": "Create an NPC companion that follows the player, assists in combat, and has its own personality", "completion": "npc(\"Lyra the Ranger\", {\n  type: \"companion\",\n  model: \"human_female_ranger\",\n  geometry: { type: \"humanoid\", height: 1.68, width: 0.45, depth: 0.35 },\n  material: {\n    skinColor: \"#c9a872\",\n    hair: { color: \"#8B4513\", style: \"ponytail\" },\n    armor: {\n      color: \"#2d4a2d\",\n      roughness: 0.7,\n      details: { leather: \"#4a3728\", metal: \"#8a8a8a\" }\n    }\n  },\n  scale: { x: 1.0, y: 1.0, z: 1.0 },\n  boundingBox: { width: 0.45, height: 1.68, depth: 0.35 },\n  health: 150,\n  \n  companion: {\n    followDistance: 3,\n    combatStyle: \"ranged\",\n    healThreshold: 0.3,\n    loyalty: 100,\n    \n    abilities: [\n      { id: \"precise_shot\", cooldown: 3 },\n      { id: \"tracking\", cooldown: 30 },\n      { id: \"first_aid\", cooldown: 60 }\n    ],\n    \n    personality: {\n      traits: [\"cautious\", \"loyal\", \"nature-loving\"],\n      likes: [\"forests\", \"animals\", \"honesty\"],\n      dislikes: [\"cities\", \"cruelty\", \"undead\"],\n      \n      reactions: {\n        enterForest: { mood: +10, comment: \"lyra_loves_forest\" },\n        killAnimal: { mood: -15, comment: \"lyra_dislikes_hunting\" },\n        helpNPC: { mood: +5, comment: \"lyra_approves\" },\n        cruelChoice: { mood: -20, comment: \"lyra_disapproves\" }\n      }\n    },\n    \n    commands: [\n      { name: \"follow\", action: () => this.state = \"following\" },\n      { name: \"wait\", action: () => this.state = \"waiting\" },\n      { name: \"attack\", action: (target) => this.engage(target) },\n      { name: \"use_ability\", action: (ability) => this.cast(ability) }\n    ]\n  },\n  \n  behaviors: [\n    {\n      name: \"follow_player\",\n      trigger: \"companion_follow\",\n      condition: this.state == \"following\",\n      actions: [\n        {\n          move: {\n            target: player.position,\n            maintainDistance: 3,\n            avoidCombat: false\n          }\n        },\n        { animate: player.isRunning ? \"run\" : \"walk\" }\n      ]\n    },\n    {\n      name: \"combat_ranged\",\n      trigger: \"combat\",\n      condition: this.combatTarget != null,\n      actions: [\n        {\n          move: {\n            target: this.combatTarget.position,\n            maintainDistance: 12,\n            strafe: true\n          }\n        },\n        { face: this.combatTarget.position },\n        { ability: \"precise_shot\", target: this.combatTarget }\n      ]\n    },\n    {\n      name: \"heal_player\",\n      trigger: \"ally_low_health\",\n      condition: player.health < player.maxHealth * 0.3,\n      cooldown: 60,\n      priority: 5,\n      actions: [\n        { move: { target: player.position, distance: 2 } },\n        { animate: \"use_bandage\" },\n        { ability: \"first_aid\", target: player },\n        { dialogue: \"lyra_healing_player\" }\n      ]\n    },\n    {\n      name: \"comment_environment\",\n      trigger: \"zone_change\",\n      cooldown: 120,\n      actions: [\n        {\n          dialogue: this.getEnvironmentComment(currentZone.type)\n        }\n      ]\n    }\n  ],\n  \n  dialogue: \"lyra_introduction\"\n})"}
{"prompt": "Create an NPC boss with multiple phases, special mechanics, and enrage timer", "completion": "npc(\"Vorkath the Corrupted\", {\n  type: \"boss\",\n  model: \"dragon_corrupted\",\n  geometry: { type: \"dragon\", length: 8, height: 4, wingspan: 12 },\n  material: {\n    scales: {\n      color: \"#2a1a4a\",\n      emissive: \"#6633cc\",\n      emissiveIntensity: 0.5,\n      metallic: 0.7,\n      roughness: 0.3\n    },\n    eyes: { color: \"#ff00ff\", emissive: \"#ff00ff\", emissiveIntensity: 2.0 },\n    corruption: { color: \"#8844ff\", emissive: \"#aa66ff\", emissiveIntensity: 1.0 }\n  },\n  scale: { x: 1.5, y: 1.5, z: 1.5 },\n  boundingBox: { width: 4, height: 4, depth: 8 },\n  \n  health: 50000,\n  level: 45,\n  \n  boss: {\n    healthBar: { style: \"epic\", segments: 3 },\n    music: \"vorkath_theme\",\n    lootTable: \"vorkath_drops\",\n    \n    enrage: {\n      timer: 600,\n      effect: {\n        damageMultiplier: 2.0,\n        attackSpeedMultiplier: 1.5,\n        particle: \"corruption_rage\"\n      },\n      warning: { time: 60, message: \"Vorkath's corruption intensifies!\" }\n    },\n    \n    phases: [\n      {\n        name: \"Phase 1: Awakening\",\n        healthRange: { min: 0.7, max: 1.0 },\n        abilities: [\"corrupted_breath\", \"tail_sweep\", \"shadow_bolt\"]\n      },\n      {\n        name: \"Phase 2: Fury\",\n        healthRange: { min: 0.4, max: 0.7 },\n        abilities: [\"corrupted_breath\", \"wing_buffet\", \"summon_adds\", \"corruption_pool\"],\n        onEnter: {\n          dialogue: \"vorkath_phase2\",\n          animation: \"roar_power_up\",\n          particle: \"corruption_explosion\"\n        }\n      },\n      {\n        name: \"Phase 3: Desperation\",\n        healthRange: { min: 0, max: 0.4 },\n        abilities: [\"corrupted_breath\", \"void_bomb\", \"corruption_wave\", \"heal_drain\"],\n        onEnter: {\n          dialogue: \"vorkath_phase3\",\n          animation: \"channel_void\",\n          environmentChange: { darkness: 0.7, corruption: true }\n        }\n      }\n    ],\n    \n    mechanics: [\n      {\n        name: \"Corruption Zones\",\n        description: \"Avoid purple pools on the ground\",\n        damage: 500,\n        interval: 1\n      },\n      {\n        name: \"Void Bomb\",\n        description: \"Spread out when targeted\",\n        warning: 3,\n        radius: 8,\n        damage: 2000\n      },\n      {\n        name: \"Shadow Adds\",\n        description: \"Kill adds before they reach the boss\",\n        healAmount: 5000,\n        spawnCount: 4\n      }\n    ]\n  },\n  \n  abilities: {\n    corrupted_breath: {\n      type: \"cone\",\n      damage: 800,\n      range: 15,\n      angle: 60,\n      castTime: 2,\n      cooldown: 8,\n      effect: { debuff: \"corruption\", duration: 10, tickDamage: 100 }\n    },\n    \n    tail_sweep: {\n      type: \"melee_aoe\",\n      damage: 600,\n      radius: 6,\n      direction: \"behind\",\n      cooldown: 5,\n      knockback: 10\n    },\n    \n    void_bomb: {\n      type: \"targeted_aoe\",\n      damage: 2000,\n      radius: 8,\n      castTime: 3,\n      cooldown: 20,\n      warning: { particle: \"void_target\", sound: \"bomb_warning\" }\n    },\n    \n    summon_adds: {\n      type: \"summon\",\n      spawn: \"shadow_spawn\",\n      count: 4,\n      positions: \"arena_corners\",\n      cooldown: 45\n    }\n  },\n  \n  behaviors: [\n    {\n      name: \"select_target\",\n      trigger: \"combat_start\",\n      actions: [\n        { target: \"highest_threat\" },\n        { face: this.target.position }\n      ]\n    },\n    {\n      name: \"phase_rotation\",\n      trigger: \"combat\",\n      actions: [\n        { selectAbility: this.currentPhase.abilities },\n        { useAbility: this.selectedAbility }\n      ]\n    }\n  ],\n  \n  loot: {\n    guaranteed: [\n      { item: \"vorkath_scale\", count: { min: 2, max: 5 } },\n      { item: \"gold\", count: { min: 5000, max: 10000 } }\n    ],\n    rare: [\n      { item: \"corrupted_dragonbone\", chance: 0.2 },\n      { item: \"vorkath_visage\", chance: 0.01 },\n      { item: \"void_shard\", chance: 0.05 }\n    ]\n  }\n})"}
{"prompt": "Create a dynamic NPC that changes behavior based on time of day and weather", "completion": "npc(\"Farmer Thaddeus\", {\n  type: \"civilian\",\n  model: \"human_male_farmer\",\n  geometry: { type: \"humanoid\", height: 1.78, width: 0.55, depth: 0.4 },\n  material: {\n    skinColor: \"#b8956e\",\n    clothing: {\n      shirt: { color: \"#8B7355\" },\n      pants: { color: \"#4a3c2e\" },\n      hat: { color: \"#c4a35a\" }\n    }\n  },\n  scale: { x: 1.0, y: 1.0, z: 1.0 },\n  boundingBox: { width: 0.55, height: 1.78, depth: 0.4 },\n  health: 80,\n  \n  schedule: {\n    \"05:00-07:00\": {\n      location: \"farmhouse_interior\",\n      behavior: \"morning_routine\",\n      dialogue: \"thaddeus_morning\"\n    },\n    \"07:00-12:00\": {\n      location: \"farm_fields\",\n      behavior: \"farming\",\n      dialogue: \"thaddeus_working\",\n      weatherOverride: {\n        rain: { location: \"barn\", behavior: \"barn_work\" },\n        storm: { location: \"farmhouse\", behavior: \"wait_inside\" }\n      }\n    },\n    \"12:00-13:00\": {\n      location: \"farmhouse_kitchen\",\n      behavior: \"eating\",\n      dialogue: \"thaddeus_lunch\"\n    },\n    \"13:00-18:00\": {\n      location: \"farm_fields\",\n      behavior: \"farming\",\n      dialogue: \"thaddeus_afternoon\",\n      weatherOverride: {\n        rain: { location: \"barn\", behavior: \"barn_work\" },\n        storm: { location: \"farmhouse\", behavior: \"wait_inside\" }\n      }\n    },\n    \"18:00-20:00\": {\n      location: \"village_tavern\",\n      behavior: \"socializing\",\n      dialogue: \"thaddeus_relaxing\"\n    },\n    \"20:00-05:00\": {\n      location: \"farmhouse_bedroom\",\n      behavior: \"sleeping\",\n      interactable: false\n    }\n  },\n  \n  behaviors: [\n    {\n      name: \"farming\",\n      trigger: \"schedule_farming\",\n      actions: [\n        { move: { target: \"crop_row_1\", speed: 1.5 } },\n        { animate: \"hoe_ground\" },\n        { wait: 5 },\n        { move: { target: \"crop_row_2\", speed: 1.5 } },\n        { animate: \"water_crops\" },\n        { wait: 5 },\n        { animate: \"wipe_brow\" }\n      ],\n      loop: true\n    },\n    {\n      name: \"barn_work\",\n      trigger: \"schedule_barn_work\",\n      actions: [\n        { animate: \"tend_animals\" },\n        { wait: 10 },\n        { animate: \"repair_equipment\" },\n        { wait: 8 }\n      ],\n      loop: true\n    },\n    {\n      name: \"react_to_rain\",\n      trigger: \"weather_change\",\n      condition: weather.current == \"rain\" && this.currentBehavior == \"farming\",\n      priority: 5,\n      actions: [\n        { animate: \"look_up\" },\n        { dialogue: \"thaddeus_rain_comment\" },\n        { move: { target: \"barn\", speed: 2 } }\n      ]\n    },\n    {\n      name: \"greet_familiar\",\n      trigger: \"player_near\",\n      condition: player.distance < 5 && player.reputation[\"thaddeus\"] >= 30,\n      actions: [\n        { face: player.position },\n        { animate: \"friendly_wave\" },\n        { dialogue: \"thaddeus_greet_friend\" }\n      ]\n    },\n    {\n      name: \"greet_stranger\",\n      trigger: \"player_near\",\n      condition: player.distance < 5 && player.reputation[\"thaddeus\"] < 30,\n      actions: [\n        { face: player.position },\n        { animate: \"nod\" },\n        { dialogue: \"thaddeus_greet_stranger\" }\n      ]\n    }\n  ],\n  \n  quests: [\n    {\n      id: \"help_harvest\",\n      available: gameTime.month == \"autumn\" && !player.hasCompletedQuest(\"help_harvest\"),\n      dialogue: \"thaddeus_needs_help\"\n    },\n    {\n      id: \"find_lost_cow\",\n      available: randomEvent(\"lost_cow_active\"),\n      dialogue: \"thaddeus_lost_cow\"\n    }\n  ],\n  \n  dialogue: \"thaddeus_default\"\n})"}
